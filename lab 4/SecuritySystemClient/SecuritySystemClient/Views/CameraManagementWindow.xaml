<Window x:Class="SecuritySystemClient.Views.CameraManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Управління камерами" 
        Height="500" Width="700"
        WindowStartupLocation="CenterOwner">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Styles/AppStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Grid Background="{StaticResource BackgroundColor}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <Border Grid.Row="0" 
                Background="{StaticResource PrimaryColor}"
                Padding="15">
            <TextBlock Text="📹 Управління камерами"
                      FontSize="20"
                      FontWeight="Bold"
                      Foreground="White"/>
        </Border>

        <!-- Список камер -->
        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="250"/>
            </Grid.ColumnDefinitions>

            <Border Background="White" CornerRadius="10" Padding="10">
                <DataGrid x:Name="CamerasDataGrid"
                         Style="{StaticResource ModernDataGridStyle}"
                         SelectionChanged="CamerasDataGrid_SelectionChanged">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                        <DataGridTextColumn Header="Назва" Binding="{Binding Name}" Width="*"/>
                        <DataGridTextColumn Header="Розташування" Binding="{Binding Location}" Width="*"/>
                        <DataGridCheckBoxColumn Header="Активна" Binding="{Binding IsActive}" Width="80"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <!-- Панель редагування -->
            <Border Grid.Column="2" 
                    Background="White" 
                    CornerRadius="10" 
                    Padding="15">
                <StackPanel>
                    <TextBlock Text="Редагування"
                              Style="{StaticResource SubHeaderTextStyle}"/>

                    <Label Content="ID:" Style="{StaticResource ModernLabelStyle}"/>
                    <TextBox x:Name="IdTextBox" 
                            Style="{StaticResource ModernTextBoxStyle}"
                            IsReadOnly="True"
                            Text="{Binding SelectedItem.Id, ElementName=CamerasDataGrid}"/>

                    <Label Content="Назва:" Style="{StaticResource ModernLabelStyle}"/>
                    <TextBox x:Name="NameTextBox" 
                            Style="{StaticResource ModernTextBoxStyle}"
                            Text="{Binding SelectedItem.Name, ElementName=CamerasDataGrid, UpdateSourceTrigger=PropertyChanged}"/>

                    <Label Content="Розташування:" Style="{StaticResource ModernLabelStyle}"/>
                    <TextBox x:Name="LocationTextBox" 
                            Style="{StaticResource ModernTextBoxStyle}"
                            Text="{Binding SelectedItem.Location, ElementName=CamerasDataGrid, UpdateSourceTrigger=PropertyChanged}"/>

                    <CheckBox Content="Активна" 
                             Margin="5,10"
                             IsChecked="{Binding SelectedItem.IsActive, ElementName=CamerasDataGrid}"/>

                    <Button Content="Додати нову" 
                           Style="{StaticResource SuccessButtonStyle}"
                           HorizontalAlignment="Stretch"
                           Margin="5,10,5,5"
                           Click="AddButton_Click"/>

                    <Button Content="Видалити" 
                           Style="{StaticResource DangerButtonStyle}"
                           HorizontalAlignment="Stretch"
                           Click="DeleteButton_Click"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Нижня панель -->
        <Border Grid.Row="2" 
                Background="White"
                Padding="15"
                BorderBrush="#E0E0E0"
                BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Зберегти зміни" 
                       Style="{StaticResource SuccessButtonStyle}"
                       Click="SaveButton_Click"/>
                <Button Content="Закрити" 
                       Style="{StaticResource DangerButtonStyle}"
                       Click="CloseButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>